{"ast":null,"code":"\"use strict\";\n\n/*\n * Copyright 2008 ZXing authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/*namespace com.google.zxing.oned {*/\nvar BarcodeFormat_1 = require(\"../BarcodeFormat\");\nvar Code39Reader_1 = require(\"./Code39Reader\");\nvar Code128Reader_1 = require(\"./Code128Reader\");\nvar RSS14Reader_1 = require(\"./rss/RSS14Reader\");\nvar DecodeHintType_1 = require(\"../DecodeHintType\");\nvar ITFReader_1 = require(\"./ITFReader\");\nvar MultiFormatUPCEANReader_1 = require(\"./MultiFormatUPCEANReader\");\nvar NotFoundException_1 = require(\"../NotFoundException\");\nvar OneDReader_1 = require(\"./OneDReader\");\n/**\n * @author Daniel Switkin <dswitkin@google.com>\n * @author Sean Owen\n */\nvar MultiFormatOneDReader = /** @class */function (_super) {\n  __extends(MultiFormatOneDReader, _super);\n  function MultiFormatOneDReader(hints) {\n    var _this = _super.call(this) || this;\n    _this.readers = [];\n    var possibleFormats = !hints ? null : hints.get(DecodeHintType_1.default.POSSIBLE_FORMATS);\n    var useCode39CheckDigit = hints && hints.get(DecodeHintType_1.default.ASSUME_CODE_39_CHECK_DIGIT) !== undefined;\n    if (possibleFormats) {\n      if (possibleFormats.includes(BarcodeFormat_1.default.EAN_13) || possibleFormats.includes(BarcodeFormat_1.default.EAN_8)) {\n        _this.readers.push(new MultiFormatUPCEANReader_1.default(hints));\n      }\n      // if (possibleFormats.includes(BarcodeFormat.EAN_13) ||\n      //     possibleFormats.includes(BarcodeFormat.UPC_A) ||\n      //     possibleFormats.includes(BarcodeFormat.EAN_8) ||\n      //     possibleFormats.includes(BarcodeFormat.UPC_E)) {\n      //   readers.push(new MultiFormatUPCEANReader(hints));\n      // }\n      if (possibleFormats.includes(BarcodeFormat_1.default.CODE_39)) {\n        _this.readers.push(new Code39Reader_1.default(useCode39CheckDigit));\n      }\n      // if (possibleFormats.includes(BarcodeFormat.CODE_93)) {\n      //    this.readers.push(new Code93Reader());\n      // }\n      if (possibleFormats.includes(BarcodeFormat_1.default.CODE_128)) {\n        _this.readers.push(new Code128Reader_1.default());\n      }\n      if (possibleFormats.includes(BarcodeFormat_1.default.ITF)) {\n        _this.readers.push(new ITFReader_1.default());\n      }\n      // if (possibleFormats.includes(BarcodeFormat.CODABAR)) {\n      //    this.readers.push(new CodaBarReader());\n      // }\n      if (possibleFormats.includes(BarcodeFormat_1.default.RSS_14)) {\n        _this.readers.push(new RSS14Reader_1.default());\n      }\n      // if (possibleFormats.includes(BarcodeFormat.RSS_EXPANDED)) {\n      //   this.readers.push(new RSSExpandedReader());\n      // }\n    }\n\n    if (_this.readers.length === 0) {\n      // this.readers.push(new MultiFormatUPCEANReader(hints));\n      _this.readers.push(new Code39Reader_1.default());\n      // this.readers.push(new CodaBarReader());\n      // this.readers.push(new Code93Reader());\n      _this.readers.push(new MultiFormatUPCEANReader_1.default(hints));\n      _this.readers.push(new Code128Reader_1.default());\n      _this.readers.push(new ITFReader_1.default());\n      _this.readers.push(new RSS14Reader_1.default());\n      // this.readers.push(new RSSExpandedReader());\n    }\n\n    return _this;\n  }\n  // @Override\n  MultiFormatOneDReader.prototype.decodeRow = function (rowNumber, row, hints) {\n    for (var i = 0; i < this.readers.length; i++) {\n      try {\n        return this.readers[i].decodeRow(rowNumber, row, hints);\n      } catch (re) {\n        // continue\n      }\n    }\n    throw new NotFoundException_1.default();\n  };\n  // @Override\n  MultiFormatOneDReader.prototype.reset = function () {\n    this.readers.forEach(function (reader) {\n      return reader.reset();\n    });\n  };\n  return MultiFormatOneDReader;\n}(OneDReader_1.default);\nexports.default = MultiFormatOneDReader;","map":{"version":3,"names":["BarcodeFormat_1","require","Code39Reader_1","Code128Reader_1","RSS14Reader_1","DecodeHintType_1","ITFReader_1","MultiFormatUPCEANReader_1","NotFoundException_1","OneDReader_1","MultiFormatOneDReader","_super","__extends","hints","_this","call","readers","possibleFormats","get","default","POSSIBLE_FORMATS","useCode39CheckDigit","ASSUME_CODE_39_CHECK_DIGIT","undefined","includes","EAN_13","EAN_8","push","CODE_39","CODE_128","ITF","RSS_14","length","prototype","decodeRow","rowNumber","row","i","re","reset","forEach","reader"],"sources":["../../../src/core/oned/MultiFormatOneDReader.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script"}