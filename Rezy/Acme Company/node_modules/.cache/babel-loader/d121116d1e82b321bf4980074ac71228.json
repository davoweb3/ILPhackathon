{"ast":null,"code":"\"use strict\";\n\n/*\n* Copyright 2013 ZXing authors\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// package com.google.zxing.pdf417.decoder;\n// import com.google.zxing.NotFoundException;\nvar NotFoundException_1 = require(\"../../NotFoundException\");\n// import com.google.zxing.ResultPoint;\nvar ResultPoint_1 = require(\"../../ResultPoint\");\n/**\n * @author Guenther Grau\n */\nvar BoundingBox = /** @class */function () {\n  function BoundingBox(image, topLeft, bottomLeft, topRight, bottomRight) {\n    if (image instanceof BoundingBox) {\n      this.constructor_2(image);\n    } else {\n      this.constructor_1(image, topLeft, bottomLeft, topRight, bottomRight);\n    }\n  }\n  /**\n   *\n   * @param image\n   * @param topLeft\n   * @param bottomLeft\n   * @param topRight\n   * @param bottomRight\n   *\n   * @throws NotFoundException\n   */\n  BoundingBox.prototype.constructor_1 = function (image, topLeft, bottomLeft, topRight, bottomRight) {\n    var leftUnspecified = topLeft == null || bottomLeft == null;\n    var rightUnspecified = topRight == null || bottomRight == null;\n    if (leftUnspecified && rightUnspecified) {\n      throw new NotFoundException_1.default();\n    }\n    if (leftUnspecified) {\n      topLeft = new ResultPoint_1.default(0, topRight.getY());\n      bottomLeft = new ResultPoint_1.default(0, bottomRight.getY());\n    } else if (rightUnspecified) {\n      topRight = new ResultPoint_1.default(image.getWidth() - 1, topLeft.getY());\n      bottomRight = new ResultPoint_1.default(image.getWidth() - 1, bottomLeft.getY());\n    }\n    this.image = image;\n    this.topLeft = topLeft;\n    this.bottomLeft = bottomLeft;\n    this.topRight = topRight;\n    this.bottomRight = bottomRight;\n    this.minX = Math.trunc(Math.min(topLeft.getX(), bottomLeft.getX()));\n    this.maxX = Math.trunc(Math.max(topRight.getX(), bottomRight.getX()));\n    this.minY = Math.trunc(Math.min(topLeft.getY(), topRight.getY()));\n    this.maxY = Math.trunc(Math.max(bottomLeft.getY(), bottomRight.getY()));\n  };\n  BoundingBox.prototype.constructor_2 = function (boundingBox) {\n    this.image = boundingBox.image;\n    this.topLeft = boundingBox.getTopLeft();\n    this.bottomLeft = boundingBox.getBottomLeft();\n    this.topRight = boundingBox.getTopRight();\n    this.bottomRight = boundingBox.getBottomRight();\n    this.minX = boundingBox.getMinX();\n    this.maxX = boundingBox.getMaxX();\n    this.minY = boundingBox.getMinY();\n    this.maxY = boundingBox.getMaxY();\n  };\n  /**\n   * @throws NotFoundException\n   */\n  BoundingBox.merge = function (leftBox, rightBox) {\n    if (leftBox == null) {\n      return rightBox;\n    }\n    if (rightBox == null) {\n      return leftBox;\n    }\n    return new BoundingBox(leftBox.image, leftBox.topLeft, leftBox.bottomLeft, rightBox.topRight, rightBox.bottomRight);\n  };\n  /**\n   * @throws NotFoundException\n   */\n  BoundingBox.prototype.addMissingRows = function (missingStartRows, missingEndRows, isLeft) {\n    var newTopLeft = this.topLeft;\n    var newBottomLeft = this.bottomLeft;\n    var newTopRight = this.topRight;\n    var newBottomRight = this.bottomRight;\n    if (missingStartRows > 0) {\n      var top_1 = isLeft ? this.topLeft : this.topRight;\n      var newMinY = Math.trunc(top_1.getY() - missingStartRows);\n      if (newMinY < 0) {\n        newMinY = 0;\n      }\n      var newTop = new ResultPoint_1.default(top_1.getX(), newMinY);\n      if (isLeft) {\n        newTopLeft = newTop;\n      } else {\n        newTopRight = newTop;\n      }\n    }\n    if (missingEndRows > 0) {\n      var bottom = isLeft ? this.bottomLeft : this.bottomRight;\n      var newMaxY = Math.trunc(bottom.getY() + missingEndRows);\n      if (newMaxY >= this.image.getHeight()) {\n        newMaxY = this.image.getHeight() - 1;\n      }\n      var newBottom = new ResultPoint_1.default(bottom.getX(), newMaxY);\n      if (isLeft) {\n        newBottomLeft = newBottom;\n      } else {\n        newBottomRight = newBottom;\n      }\n    }\n    return new BoundingBox(this.image, newTopLeft, newBottomLeft, newTopRight, newBottomRight);\n  };\n  BoundingBox.prototype.getMinX = function () {\n    return this.minX;\n  };\n  BoundingBox.prototype.getMaxX = function () {\n    return this.maxX;\n  };\n  BoundingBox.prototype.getMinY = function () {\n    return this.minY;\n  };\n  BoundingBox.prototype.getMaxY = function () {\n    return this.maxY;\n  };\n  BoundingBox.prototype.getTopLeft = function () {\n    return this.topLeft;\n  };\n  BoundingBox.prototype.getTopRight = function () {\n    return this.topRight;\n  };\n  BoundingBox.prototype.getBottomLeft = function () {\n    return this.bottomLeft;\n  };\n  BoundingBox.prototype.getBottomRight = function () {\n    return this.bottomRight;\n  };\n  return BoundingBox;\n}();\nexports.default = BoundingBox;","map":{"version":3,"names":["NotFoundException_1","require","ResultPoint_1","BoundingBox","image","topLeft","bottomLeft","topRight","bottomRight","constructor_2","constructor_1","prototype","leftUnspecified","rightUnspecified","default","getY","getWidth","minX","Math","trunc","min","getX","maxX","max","minY","maxY","boundingBox","getTopLeft","getBottomLeft","getTopRight","getBottomRight","getMinX","getMaxX","getMinY","getMaxY","merge","leftBox","rightBox","addMissingRows","missingStartRows","missingEndRows","isLeft","newTopLeft","newBottomLeft","newTopRight","newBottomRight","top_1","newMinY","newTop","bottom","newMaxY","getHeight","newBottom"],"sources":["../../../../src/core/pdf417/decoder/BoundingBox.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script"}