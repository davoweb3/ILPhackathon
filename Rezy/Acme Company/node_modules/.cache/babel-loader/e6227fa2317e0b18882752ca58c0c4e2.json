{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar FormatException_1 = require(\"../../../../FormatException\");\nvar IllegalStateException_1 = require(\"../../../../IllegalStateException\");\nvar StringBuilder_1 = require(\"../../../../util/StringBuilder\");\nvar DecodedChar_1 = require(\"./DecodedChar\");\nvar DecodedNumeric_1 = require(\"./DecodedNumeric\");\nvar DecodedInformation_1 = require(\"./DecodedInformation\");\nvar FieldParser_1 = require(\"./FieldParser\");\nvar BlockParsedResult_1 = require(\"./BlockParsedResult\");\nvar GeneralAppIdDecoder = /** @class */function () {\n  function GeneralAppIdDecoder(information) {\n    this.buffer = new StringBuilder_1.default();\n    this.information = information;\n  }\n  GeneralAppIdDecoder.prototype.decodeAllCodes = function (buff, initialPosition) {\n    var currentPosition = initialPosition;\n    var remaining = null;\n    do {\n      var info = this.decodeGeneralPurposeField(currentPosition, remaining);\n      var parsedFields = FieldParser_1.default.parseFieldsInGeneralPurpose(info.getNewString());\n      if (parsedFields != null) {\n        buff.append(parsedFields);\n      }\n      if (info.isRemaining()) {\n        remaining = \"\" + info.getRemainingValue();\n      } else {\n        remaining = null;\n      }\n      if (currentPosition == info.getNewPosition()) {\n        // No step forward!\n        break;\n      }\n      currentPosition = info.getNewPosition();\n    } while (true);\n    return buff.toString();\n  };\n  GeneralAppIdDecoder.prototype.isStillNumeric = function (pos) {\n    // It's numeric if it still has 7 positions\n    // and one of the first 4 bits is \"1\".\n    if (pos + 7 > this.information.getSize()) {\n      return pos + 4 <= this.information.getSize();\n    }\n    for (var i = pos; i < pos + 3; ++i) {\n      if (this.information.get(i)) {\n        return true;\n      }\n    }\n    return this.information.get(pos + 3);\n  };\n  GeneralAppIdDecoder.prototype.decodeNumeric = function (pos) {\n    if (pos + 7 > this.information.getSize()) {\n      var numeric_1 = this.extractNumericValueFromBitArray(pos, 4);\n      if (numeric_1 == 0) {\n        return new DecodedNumeric_1.default(this.information.getSize(), DecodedNumeric_1.default.FNC1, DecodedNumeric_1.default.FNC1);\n      }\n      return new DecodedNumeric_1.default(this.information.getSize(), numeric_1 - 1, DecodedNumeric_1.default.FNC1);\n    }\n    var numeric = this.extractNumericValueFromBitArray(pos, 7);\n    var digit1 = (numeric - 8) / 11;\n    var digit2 = (numeric - 8) % 11;\n    return new DecodedNumeric_1.default(pos + 7, digit1, digit2);\n  };\n  GeneralAppIdDecoder.prototype.extractNumericValueFromBitArray = function (pos, bits) {\n    return GeneralAppIdDecoder.extractNumericValueFromBitArray(this.information, pos, bits);\n  };\n  GeneralAppIdDecoder.extractNumericValueFromBitArray = function (information, pos, bits) {\n    var value = 0;\n    for (var i = 0; i < bits; ++i) {\n      if (information.get(pos + i)) {\n        value |= 1 << bits - i - 1;\n      }\n    }\n    return value;\n  };\n  GeneralAppIdDecoder.prototype.decodeGeneralPurposeField = function (pos, remaining) {\n    //this.buffer.setLength(0);\n    this.buffer.setLengthToZero();\n    if (remaining != null) {\n      this.buffer.append(remaining);\n    }\n    this.current.setPosition(pos);\n    var lastDecoded = this.parseBlocks();\n    if (lastDecoded != null && lastDecoded.isRemaining()) {\n      return new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString(), lastDecoded.getRemainingValue());\n    }\n    return new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString());\n  };\n  GeneralAppIdDecoder.prototype.parseBlocks = function () {\n    var isFinished;\n    var result;\n    do {\n      var initialPosition = this.current.getPosition();\n      if (this.current.isAlpha()) {\n        result = this.parseAlphaBlock();\n        isFinished = result.isFinished();\n      } else if (this.current.isIsoIec646()) {\n        result = this.parseIsoIec646Block();\n        isFinished = result.isFinished();\n      } else {\n        // it must be numeric\n        result = this.parseNumericBlock();\n        isFinished = result.isFinished();\n      }\n      var positionChanged = initialPosition != this.current.getPosition();\n      if (!positionChanged && !isFinished) {\n        break;\n      }\n    } while (!isFinished);\n    return result.getDecodedInformation();\n  };\n  GeneralAppIdDecoder.prototype.parseNumericBlock = function () {\n    while (this.isStillNumeric(this.current.getPosition())) {\n      var numeric = this.decodeNumeric(this.current.getPosition());\n      this.current.setPosition(numeric.getNewPosition());\n      if (numeric.isFirstDigitFNC1()) {\n        var information = void 0;\n        if (numeric.isSecondDigitFNC1()) {\n          information = new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString());\n        } else {\n          information = new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString(), numeric.getSecondDigit());\n        }\n        return new BlockParsedResult_1.default(true, information);\n      }\n      this.buffer.append(numeric.getFirstDigit());\n      if (numeric.isSecondDigitFNC1()) {\n        var information = new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString());\n        return new BlockParsedResult_1.default(true, information);\n      }\n      this.buffer.append(numeric.getSecondDigit());\n    }\n    if (this.isNumericToAlphaNumericLatch(this.current.getPosition())) {\n      this.current.setAlpha();\n      this.current.incrementPosition(4);\n    }\n    return new BlockParsedResult_1.default(false);\n  };\n  GeneralAppIdDecoder.prototype.parseIsoIec646Block = function () {\n    while (this.isStillIsoIec646(this.current.getPosition())) {\n      var iso = this.decodeIsoIec646(this.current.getPosition());\n      this.current.setPosition(iso.getNewPosition());\n      if (iso.isFNC1()) {\n        var information = new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString());\n        return new BlockParsedResult_1.default(true, information);\n      }\n      this.buffer.append(iso.getValue());\n    }\n    if (this.isAlphaOr646ToNumericLatch(this.current.getPosition())) {\n      this.current.incrementPosition(3);\n      this.current.setNumeric();\n    } else if (this.isAlphaTo646ToAlphaLatch(this.current.getPosition())) {\n      if (this.current.getPosition() + 5 < this.information.getSize()) {\n        this.current.incrementPosition(5);\n      } else {\n        this.current.setPosition(this.information.getSize());\n      }\n      this.current.setAlpha();\n    }\n    return new BlockParsedResult_1.default(false);\n  };\n  GeneralAppIdDecoder.prototype.parseAlphaBlock = function () {\n    while (this.isStillAlpha(this.current.getPosition())) {\n      var alpha = this.decodeAlphanumeric(this.current.getPosition());\n      this.current.setPosition(alpha.getNewPosition());\n      if (alpha.isFNC1()) {\n        var information = new DecodedInformation_1.default(this.current.getPosition(), this.buffer.toString());\n        return new BlockParsedResult_1.default(true, information); //end of the char block\n      }\n\n      this.buffer.append(alpha.getValue());\n    }\n    if (this.isAlphaOr646ToNumericLatch(this.current.getPosition())) {\n      this.current.incrementPosition(3);\n      this.current.setNumeric();\n    } else if (this.isAlphaTo646ToAlphaLatch(this.current.getPosition())) {\n      if (this.current.getPosition() + 5 < this.information.getSize()) {\n        this.current.incrementPosition(5);\n      } else {\n        this.current.setPosition(this.information.getSize());\n      }\n      this.current.setIsoIec646();\n    }\n    return new BlockParsedResult_1.default(false);\n  };\n  GeneralAppIdDecoder.prototype.isStillIsoIec646 = function (pos) {\n    if (pos + 5 > this.information.getSize()) {\n      return false;\n    }\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n    if (fiveBitValue >= 5 && fiveBitValue < 16) {\n      return true;\n    }\n    if (pos + 7 > this.information.getSize()) {\n      return false;\n    }\n    var sevenBitValue = this.extractNumericValueFromBitArray(pos, 7);\n    if (sevenBitValue >= 64 && sevenBitValue < 116) {\n      return true;\n    }\n    if (pos + 8 > this.information.getSize()) {\n      return false;\n    }\n    var eightBitValue = this.extractNumericValueFromBitArray(pos, 8);\n    return eightBitValue >= 232 && eightBitValue < 253;\n  };\n  GeneralAppIdDecoder.prototype.decodeIsoIec646 = function (pos) {\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n    if (fiveBitValue == 15) {\n      return new DecodedChar_1.default(pos + 5, DecodedChar_1.default.FNC1);\n    }\n    if (fiveBitValue >= 5 && fiveBitValue < 15) {\n      return new DecodedChar_1.default(pos + 5, '0' + (fiveBitValue - 5));\n    }\n    var sevenBitValue = this.extractNumericValueFromBitArray(pos, 7);\n    if (sevenBitValue >= 64 && sevenBitValue < 90) {\n      return new DecodedChar_1.default(pos + 7, \"\" + (sevenBitValue + 1));\n    }\n    if (sevenBitValue >= 90 && sevenBitValue < 116) {\n      return new DecodedChar_1.default(pos + 7, \"\" + (sevenBitValue + 7));\n    }\n    var eightBitValue = this.extractNumericValueFromBitArray(pos, 8);\n    var c;\n    switch (eightBitValue) {\n      case 232:\n        c = '!';\n        break;\n      case 233:\n        c = '\"';\n        break;\n      case 234:\n        c = '%';\n        break;\n      case 235:\n        c = '&';\n        break;\n      case 236:\n        c = '\\'';\n        break;\n      case 237:\n        c = '(';\n        break;\n      case 238:\n        c = ')';\n        break;\n      case 239:\n        c = '*';\n        break;\n      case 240:\n        c = '+';\n        break;\n      case 241:\n        c = ',';\n        break;\n      case 242:\n        c = '-';\n        break;\n      case 243:\n        c = '.';\n        break;\n      case 244:\n        c = '/';\n        break;\n      case 245:\n        c = ':';\n        break;\n      case 246:\n        c = ';';\n        break;\n      case 247:\n        c = '<';\n        break;\n      case 248:\n        c = '=';\n        break;\n      case 249:\n        c = '>';\n        break;\n      case 250:\n        c = '?';\n        break;\n      case 251:\n        c = '_';\n        break;\n      case 252:\n        c = ' ';\n        break;\n      default:\n        throw new FormatException_1.default();\n    }\n    return new DecodedChar_1.default(pos + 8, c);\n  };\n  GeneralAppIdDecoder.prototype.isStillAlpha = function (pos) {\n    if (pos + 5 > this.information.getSize()) {\n      return false;\n    }\n    // We now check if it's a valid 5-bit value (0..9 and FNC1)\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n    if (fiveBitValue >= 5 && fiveBitValue < 16) {\n      return true;\n    }\n    if (pos + 6 > this.information.getSize()) {\n      return false;\n    }\n    var sixBitValue = this.extractNumericValueFromBitArray(pos, 6);\n    return sixBitValue >= 16 && sixBitValue < 63; // 63 not included\n  };\n\n  GeneralAppIdDecoder.prototype.decodeAlphanumeric = function (pos) {\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n    if (fiveBitValue == 15) {\n      return new DecodedChar_1.default(pos + 5, DecodedChar_1.default.FNC1);\n    }\n    if (fiveBitValue >= 5 && fiveBitValue < 15) {\n      return new DecodedChar_1.default(pos + 5, '0' + (fiveBitValue - 5));\n    }\n    var sixBitValue = this.extractNumericValueFromBitArray(pos, 6);\n    if (sixBitValue >= 32 && sixBitValue < 58) {\n      return new DecodedChar_1.default(pos + 6, '' + (sixBitValue + 33));\n    }\n    var c;\n    switch (sixBitValue) {\n      case 58:\n        c = '*';\n        break;\n      case 59:\n        c = ',';\n        break;\n      case 60:\n        c = '-';\n        break;\n      case 61:\n        c = '.';\n        break;\n      case 62:\n        c = '/';\n        break;\n      default:\n        throw new IllegalStateException_1.default(\"Decoding invalid alphanumeric value: \" + sixBitValue);\n    }\n    return new DecodedChar_1.default(pos + 6, c);\n  };\n  GeneralAppIdDecoder.prototype.isAlphaTo646ToAlphaLatch = function (pos) {\n    if (pos + 1 > this.information.getSize()) {\n      return false;\n    }\n    for (var i = 0; i < 5 && i + pos < this.information.getSize(); ++i) {\n      if (i == 2) {\n        if (!this.information.get(pos + 2)) {\n          return false;\n        }\n      } else if (this.information.get(pos + i)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  GeneralAppIdDecoder.prototype.isAlphaOr646ToNumericLatch = function (pos) {\n    // Next is alphanumeric if there are 3 positions and they are all zeros\n    if (pos + 3 > this.information.getSize()) {\n      return false;\n    }\n    for (var i = pos; i < pos + 3; ++i) {\n      if (this.information.get(i)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  GeneralAppIdDecoder.prototype.isNumericToAlphaNumericLatch = function (pos) {\n    // Next is alphanumeric if there are 4 positions and they are all zeros, or\n    // if there is a subset of this just before the end of the symbol\n    if (pos + 1 > this.information.getSize()) {\n      return false;\n    }\n    for (var i = 0; i < 4 && i + pos < this.information.getSize(); ++i) {\n      if (this.information.get(pos + i)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  return GeneralAppIdDecoder;\n}();\nexports.default = GeneralAppIdDecoder;","map":{"version":3,"names":["FormatException_1","require","IllegalStateException_1","StringBuilder_1","DecodedChar_1","DecodedNumeric_1","DecodedInformation_1","FieldParser_1","BlockParsedResult_1","GeneralAppIdDecoder","information","buffer","default","prototype","decodeAllCodes","buff","initialPosition","currentPosition","remaining","info","decodeGeneralPurposeField","parsedFields","parseFieldsInGeneralPurpose","getNewString","append","isRemaining","getRemainingValue","getNewPosition","toString","isStillNumeric","pos","getSize","i","get","decodeNumeric","numeric_1","extractNumericValueFromBitArray","FNC1","numeric","digit1","digit2","bits","value","setLengthToZero","current","setPosition","lastDecoded","parseBlocks","getPosition","isFinished","result","isAlpha","parseAlphaBlock","isIsoIec646","parseIsoIec646Block","parseNumericBlock","positionChanged","getDecodedInformation","isFirstDigitFNC1","isSecondDigitFNC1","getSecondDigit","getFirstDigit","isNumericToAlphaNumericLatch","setAlpha","incrementPosition","isStillIsoIec646","iso","decodeIsoIec646","isFNC1","getValue","isAlphaOr646ToNumericLatch","setNumeric","isAlphaTo646ToAlphaLatch","isStillAlpha","alpha","decodeAlphanumeric","setIsoIec646","fiveBitValue","sevenBitValue","eightBitValue","c","sixBitValue"],"sources":["../../../../../../src/core/oned/rss/expanded/decoders/GeneralAppIdDecoder.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script"}