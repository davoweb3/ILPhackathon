{"ast":null,"code":"\"use strict\";\n\nvar __values = this && this.__values || function (o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n    i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * RSS util functions.\n */\nvar RSSUtils = /** @class */function () {\n  function RSSUtils() {}\n  RSSUtils.prototype.RSSUtils = function () {};\n  RSSUtils.getRSSvalue = function (widths, maxWidth, noNarrow) {\n    var e_1, _a;\n    var n = 0;\n    try {\n      for (var widths_1 = __values(widths), widths_1_1 = widths_1.next(); !widths_1_1.done; widths_1_1 = widths_1.next()) {\n        var width = widths_1_1.value;\n        n += width;\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (widths_1_1 && !widths_1_1.done && (_a = widths_1.return)) _a.call(widths_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    var val = 0;\n    var narrowMask = 0;\n    var elements = widths.length;\n    for (var bar = 0; bar < elements - 1; bar++) {\n      var elmWidth = void 0;\n      for (elmWidth = 1, narrowMask |= 1 << bar; elmWidth < widths[bar]; elmWidth++, narrowMask &= ~(1 << bar)) {\n        var subVal = RSSUtils.combins(n - elmWidth - 1, elements - bar - 2);\n        if (noNarrow && narrowMask === 0 && n - elmWidth - (elements - bar - 1) >= elements - bar - 1) {\n          subVal -= RSSUtils.combins(n - elmWidth - (elements - bar), elements - bar - 2);\n        }\n        if (elements - bar - 1 > 1) {\n          var lessVal = 0;\n          for (var mxwElement = n - elmWidth - (elements - bar - 2); mxwElement > maxWidth; mxwElement--) {\n            lessVal += RSSUtils.combins(n - elmWidth - mxwElement - 1, elements - bar - 3);\n          }\n          subVal -= lessVal * (elements - 1 - bar);\n        } else if (n - elmWidth > maxWidth) {\n          subVal--;\n        }\n        val += subVal;\n      }\n      n -= elmWidth;\n    }\n    return val;\n  };\n  RSSUtils.combins = function (n, r) {\n    var maxDenom;\n    var minDenom;\n    if (n - r > r) {\n      minDenom = r;\n      maxDenom = n - r;\n    } else {\n      minDenom = n - r;\n      maxDenom = r;\n    }\n    var val = 1;\n    var j = 1;\n    for (var i = n; i > maxDenom; i--) {\n      val *= i;\n      if (j <= minDenom) {\n        val /= j;\n        j++;\n      }\n    }\n    while (j <= minDenom) {\n      val /= j;\n      j++;\n    }\n    return val;\n  };\n  return RSSUtils;\n}();\nexports.default = RSSUtils;","map":{"version":3,"sources":["../../../../src/core/oned/rss/RSSUtils.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * RSS util functions.\n */\nvar RSSUtils = /** @class */ (function () {\n    function RSSUtils() {\n    }\n    RSSUtils.prototype.RSSUtils = function () { };\n    RSSUtils.getRSSvalue = function (widths, maxWidth, noNarrow) {\n        var e_1, _a;\n        var n = 0;\n        try {\n            for (var widths_1 = __values(widths), widths_1_1 = widths_1.next(); !widths_1_1.done; widths_1_1 = widths_1.next()) {\n                var width = widths_1_1.value;\n                n += width;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (widths_1_1 && !widths_1_1.done && (_a = widths_1.return)) _a.call(widths_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var val = 0;\n        var narrowMask = 0;\n        var elements = widths.length;\n        for (var bar = 0; bar < elements - 1; bar++) {\n            var elmWidth = void 0;\n            for (elmWidth = 1, narrowMask |= 1 << bar; elmWidth < widths[bar]; elmWidth++, narrowMask &= ~(1 << bar)) {\n                var subVal = RSSUtils.combins(n - elmWidth - 1, elements - bar - 2);\n                if (noNarrow && (narrowMask === 0) && (n - elmWidth - (elements - bar - 1) >= elements - bar - 1)) {\n                    subVal -= RSSUtils.combins(n - elmWidth - (elements - bar), elements - bar - 2);\n                }\n                if (elements - bar - 1 > 1) {\n                    var lessVal = 0;\n                    for (var mxwElement = n - elmWidth - (elements - bar - 2); mxwElement > maxWidth; mxwElement--) {\n                        lessVal += RSSUtils.combins(n - elmWidth - mxwElement - 1, elements - bar - 3);\n                    }\n                    subVal -= lessVal * (elements - 1 - bar);\n                }\n                else if (n - elmWidth > maxWidth) {\n                    subVal--;\n                }\n                val += subVal;\n            }\n            n -= elmWidth;\n        }\n        return val;\n    };\n    RSSUtils.combins = function (n, r) {\n        var maxDenom;\n        var minDenom;\n        if (n - r > r) {\n            minDenom = r;\n            maxDenom = n - r;\n        }\n        else {\n            minDenom = n - r;\n            maxDenom = r;\n        }\n        var val = 1;\n        var j = 1;\n        for (var i = n; i > maxDenom; i--) {\n            val *= i;\n            if (j <= minDenom) {\n                val /= j;\n                j++;\n            }\n        }\n        while ((j <= minDenom)) {\n            val /= j;\n            j++;\n        }\n        return val;\n    };\n    return RSSUtils;\n}());\nexports.default = RSSUtils;\n//# sourceMappingURL=RSSUtils.js.map"]},"metadata":{},"sourceType":"script"}