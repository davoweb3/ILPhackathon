{"ast":null,"code":"/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport _defineProperty from \"C:/Users/DAVOTRADE/Desktop/Rezy barcode/scanner/scanner/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport * as utils from '../utils';\nexport { shimGetUserMedia } from './getusermedia';\nexport { shimGetDisplayMedia } from './getdisplaymedia';\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCTrackEvent && 'receiver' in window.RTCTrackEvent.prototype && !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get: function get() {\n        return {\n          receiver: this.receiver\n        };\n      }\n    });\n  }\n}\nexport function shimPeerConnection(window, browserDetails) {\n  if (typeof window !== 'object' || !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n    return; // probably media.peerconnection.enabled=false in about:config\n  }\n\n  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n  }\n  if (browserDetails.version < 53) {\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      var methodObj = _defineProperty({}, method, function () {\n        arguments[0] = new (method === 'addIceCandidate' ? window.RTCIceCandidate : window.RTCSessionDescription)(arguments[0]);\n        return nativeMethod.apply(this, arguments);\n      });\n      window.RTCPeerConnection.prototype[method] = methodObj[method];\n    });\n  }\n  var modernStatsTypes = {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  };\n  var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    var _arguments = Array.prototype.slice.call(arguments),\n      selector = _arguments[0],\n      onSucc = _arguments[1],\n      onErr = _arguments[2];\n    return nativeGetStats.apply(this, [selector || null]).then(function (stats) {\n      if (browserDetails.version < 53 && !onSucc) {\n        // Shim only promise getStats with spec-hyphens in type names\n        // Leave callback version alone; misc old uses of forEach before Map\n        try {\n          stats.forEach(function (stat) {\n            stat.type = modernStatsTypes[stat.type] || stat.type;\n          });\n        } catch (e) {\n          if (e.name !== 'TypeError') {\n            throw e;\n          }\n          // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n          stats.forEach(function (stat, i) {\n            stats.set(i, Object.assign({}, stat, {\n              type: modernStatsTypes[stat.type] || stat.type\n            }));\n          });\n        }\n      }\n      return stats;\n    }).then(onSucc, onErr);\n  };\n}\nexport function shimSenderGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n    return;\n  }\n  var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n  if (origGetSenders) {\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      var _this = this;\n      var senders = origGetSenders.apply(this, []);\n      senders.forEach(function (sender) {\n        return sender._pc = _this;\n      });\n      return senders;\n    };\n  }\n  var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  if (origAddTrack) {\n    window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n      var sender = origAddTrack.apply(this, arguments);\n      sender._pc = this;\n      return sender;\n    };\n  }\n  window.RTCRtpSender.prototype.getStats = function getStats() {\n    return this.track ? this._pc.getStats(this.track) : Promise.resolve(new Map());\n  };\n}\nexport function shimReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n    return;\n  }\n  var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n  if (origGetReceivers) {\n    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n      var _this2 = this;\n      var receivers = origGetReceivers.apply(this, []);\n      receivers.forEach(function (receiver) {\n        return receiver._pc = _this2;\n      });\n      return receivers;\n    };\n  }\n  utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n    e.receiver._pc = e.srcElement;\n    return e;\n  });\n  window.RTCRtpReceiver.prototype.getStats = function getStats() {\n    return this._pc.getStats(this.track);\n  };\n}\nexport function shimRemoveStream(window) {\n  if (!window.RTCPeerConnection || 'removeStream' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n    var _this3 = this;\n    utils.deprecated('removeStream', 'removeTrack');\n    this.getSenders().forEach(function (sender) {\n      if (sender.track && stream.getTracks().includes(sender.track)) {\n        _this3.removeTrack(sender);\n      }\n    });\n  };\n}\nexport function shimRTCDataChannel(window) {\n  // rename DataChannel to RTCDataChannel (native fix in FF60):\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n  if (window.DataChannel && !window.RTCDataChannel) {\n    window.RTCDataChannel = window.DataChannel;\n  }\n}\nexport function shimAddTransceiver(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n  if (origAddTransceiver) {\n    window.RTCPeerConnection.prototype.addTransceiver = function addTransceiver() {\n      this.setParametersPromises = [];\n      var initParameters = arguments[1];\n      var shouldPerformCheck = initParameters && 'sendEncodings' in initParameters;\n      if (shouldPerformCheck) {\n        // If sendEncodings params are provided, validate grammar\n        initParameters.sendEncodings.forEach(function (encodingParam) {\n          if ('rid' in encodingParam) {\n            var ridRegex = /^[a-z0-9]{0,16}$/i;\n            if (!ridRegex.test(encodingParam.rid)) {\n              throw new TypeError('Invalid RID value provided.');\n            }\n          }\n          if ('scaleResolutionDownBy' in encodingParam) {\n            if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n              throw new RangeError('scale_resolution_down_by must be >= 1.0');\n            }\n          }\n          if ('maxFramerate' in encodingParam) {\n            if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n              throw new RangeError('max_framerate must be >= 0.0');\n            }\n          }\n        });\n      }\n      var transceiver = origAddTransceiver.apply(this, arguments);\n      if (shouldPerformCheck) {\n        // Check if the init options were applied. If not we do this in an\n        // asynchronous way and save the promise reference in a global object.\n        // This is an ugly hack, but at the same time is way more robust than\n        // checking the sender parameters before and after the createOffer\n        // Also note that after the createoffer we are not 100% sure that\n        // the params were asynchronously applied so we might miss the\n        // opportunity to recreate offer.\n        var sender = transceiver.sender;\n        var params = sender.getParameters();\n        if (!('encodings' in params) ||\n        // Avoid being fooled by patched getParameters() below.\n        params.encodings.length === 1 && Object.keys(params.encodings[0]).length === 0) {\n          params.encodings = initParameters.sendEncodings;\n          sender.sendEncodings = initParameters.sendEncodings;\n          this.setParametersPromises.push(sender.setParameters(params).then(function () {\n            delete sender.sendEncodings;\n          }).catch(function () {\n            delete sender.sendEncodings;\n          }));\n        }\n      }\n      return transceiver;\n    };\n  }\n}\nexport function shimGetParameters(window) {\n  if (!(typeof window === 'object' && window.RTCRtpSender)) {\n    return;\n  }\n  var origGetParameters = window.RTCRtpSender.prototype.getParameters;\n  if (origGetParameters) {\n    window.RTCRtpSender.prototype.getParameters = function getParameters() {\n      var params = origGetParameters.apply(this, arguments);\n      if (!('encodings' in params)) {\n        params.encodings = [].concat(this.sendEncodings || [{}]);\n      }\n      return params;\n    };\n  }\n}\nexport function shimCreateOffer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n    var _arguments2 = arguments,\n      _this4 = this;\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises).then(function () {\n        return origCreateOffer.apply(_this4, _arguments2);\n      }).finally(function () {\n        _this4.setParametersPromises = [];\n      });\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\nexport function shimCreateAnswer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n    var _arguments3 = arguments,\n      _this5 = this;\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises).then(function () {\n        return origCreateAnswer.apply(_this5, _arguments3);\n      }).finally(function () {\n        _this5.setParametersPromises = [];\n      });\n    }\n    return origCreateAnswer.apply(this, arguments);\n  };\n}","map":{"version":3,"names":["_defineProperty","utils","shimGetUserMedia","shimGetDisplayMedia","shimOnTrack","window","RTCTrackEvent","prototype","Object","defineProperty","get","receiver","shimPeerConnection","browserDetails","RTCPeerConnection","mozRTCPeerConnection","version","forEach","method","nativeMethod","methodObj","arguments","RTCIceCandidate","RTCSessionDescription","apply","modernStatsTypes","inboundrtp","outboundrtp","candidatepair","localcandidate","remotecandidate","nativeGetStats","getStats","_arguments","Array","slice","call","selector","onSucc","onErr","then","stats","stat","type","e","name","i","set","assign","shimSenderGetStats","RTCRtpSender","origGetSenders","getSenders","_this","senders","sender","_pc","origAddTrack","addTrack","track","Promise","resolve","Map","shimReceiverGetStats","RTCRtpReceiver","origGetReceivers","getReceivers","_this2","receivers","wrapPeerConnectionEvent","srcElement","shimRemoveStream","removeStream","stream","_this3","deprecated","getTracks","includes","removeTrack","shimRTCDataChannel","DataChannel","RTCDataChannel","shimAddTransceiver","origAddTransceiver","addTransceiver","setParametersPromises","initParameters","shouldPerformCheck","sendEncodings","encodingParam","ridRegex","test","rid","TypeError","parseFloat","scaleResolutionDownBy","RangeError","maxFramerate","transceiver","params","getParameters","encodings","length","keys","push","setParameters","catch","shimGetParameters","origGetParameters","concat","shimCreateOffer","origCreateOffer","createOffer","_arguments2","_this4","all","finally","shimCreateAnswer","origCreateAnswer","createAnswer","_arguments3","_this5"],"sources":["C:/Users/DAVOTRADE/Desktop/Rezy barcode/scanner/scanner/node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js"],"sourcesContent":["/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      ('receiver' in window.RTCTrackEvent.prototype) &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nexport function shimPeerConnection(window, browserDetails) {\n  if (typeof window !== 'object' ||\n      !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n    return; // probably media.peerconnection.enabled=false in about:config\n  }\n  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n  }\n\n  if (browserDetails.version < 53) {\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          const nativeMethod = window.RTCPeerConnection.prototype[method];\n          const methodObj = {[method]() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          }};\n          window.RTCPeerConnection.prototype[method] = methodObj[method];\n        });\n  }\n\n  const modernStatsTypes = {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  };\n\n  const nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n    return nativeGetStats.apply(this, [selector || null])\n      .then(stats => {\n        if (browserDetails.version < 53 && !onSucc) {\n          // Shim only promise getStats with spec-hyphens in type names\n          // Leave callback version alone; misc old uses of forEach before Map\n          try {\n            stats.forEach(stat => {\n              stat.type = modernStatsTypes[stat.type] || stat.type;\n            });\n          } catch (e) {\n            if (e.name !== 'TypeError') {\n              throw e;\n            }\n            // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n            stats.forEach((stat, i) => {\n              stats.set(i, Object.assign({}, stat, {\n                type: modernStatsTypes[stat.type] || stat.type\n              }));\n            });\n          }\n        }\n        return stats;\n      })\n      .then(onSucc, onErr);\n  };\n}\n\nexport function shimSenderGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n    return;\n  }\n  const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n  if (origGetSenders) {\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n  }\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  if (origAddTrack) {\n    window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n      const sender = origAddTrack.apply(this, arguments);\n      sender._pc = this;\n      return sender;\n    };\n  }\n  window.RTCRtpSender.prototype.getStats = function getStats() {\n    return this.track ? this._pc.getStats(this.track) :\n        Promise.resolve(new Map());\n  };\n}\n\nexport function shimReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n    return;\n  }\n  const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n  if (origGetReceivers) {\n    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n      const receivers = origGetReceivers.apply(this, []);\n      receivers.forEach(receiver => receiver._pc = this);\n      return receivers;\n    };\n  }\n  utils.wrapPeerConnectionEvent(window, 'track', e => {\n    e.receiver._pc = e.srcElement;\n    return e;\n  });\n  window.RTCRtpReceiver.prototype.getStats = function getStats() {\n    return this._pc.getStats(this.track);\n  };\n}\n\nexport function shimRemoveStream(window) {\n  if (!window.RTCPeerConnection ||\n      'removeStream' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(sender => {\n        if (sender.track && stream.getTracks().includes(sender.track)) {\n          this.removeTrack(sender);\n        }\n      });\n    };\n}\n\nexport function shimRTCDataChannel(window) {\n  // rename DataChannel to RTCDataChannel (native fix in FF60):\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n  if (window.DataChannel && !window.RTCDataChannel) {\n    window.RTCDataChannel = window.DataChannel;\n  }\n}\n\nexport function shimAddTransceiver(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n  if (origAddTransceiver) {\n    window.RTCPeerConnection.prototype.addTransceiver =\n      function addTransceiver() {\n        this.setParametersPromises = [];\n        const initParameters = arguments[1];\n        const shouldPerformCheck = initParameters &&\n                                  'sendEncodings' in initParameters;\n        if (shouldPerformCheck) {\n          // If sendEncodings params are provided, validate grammar\n          initParameters.sendEncodings.forEach((encodingParam) => {\n            if ('rid' in encodingParam) {\n              const ridRegex = /^[a-z0-9]{0,16}$/i;\n              if (!ridRegex.test(encodingParam.rid)) {\n                throw new TypeError('Invalid RID value provided.');\n              }\n            }\n            if ('scaleResolutionDownBy' in encodingParam) {\n              if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n                throw new RangeError('scale_resolution_down_by must be >= 1.0');\n              }\n            }\n            if ('maxFramerate' in encodingParam) {\n              if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n                throw new RangeError('max_framerate must be >= 0.0');\n              }\n            }\n          });\n        }\n        const transceiver = origAddTransceiver.apply(this, arguments);\n        if (shouldPerformCheck) {\n          // Check if the init options were applied. If not we do this in an\n          // asynchronous way and save the promise reference in a global object.\n          // This is an ugly hack, but at the same time is way more robust than\n          // checking the sender parameters before and after the createOffer\n          // Also note that after the createoffer we are not 100% sure that\n          // the params were asynchronously applied so we might miss the\n          // opportunity to recreate offer.\n          const {sender} = transceiver;\n          const params = sender.getParameters();\n          if (!('encodings' in params) ||\n              // Avoid being fooled by patched getParameters() below.\n              (params.encodings.length === 1 &&\n               Object.keys(params.encodings[0]).length === 0)) {\n            params.encodings = initParameters.sendEncodings;\n            sender.sendEncodings = initParameters.sendEncodings;\n            this.setParametersPromises.push(sender.setParameters(params)\n              .then(() => {\n                delete sender.sendEncodings;\n              }).catch(() => {\n                delete sender.sendEncodings;\n              })\n            );\n          }\n        }\n        return transceiver;\n      };\n  }\n}\n\nexport function shimGetParameters(window) {\n  if (!(typeof window === 'object' && window.RTCRtpSender)) {\n    return;\n  }\n  const origGetParameters = window.RTCRtpSender.prototype.getParameters;\n  if (origGetParameters) {\n    window.RTCRtpSender.prototype.getParameters =\n      function getParameters() {\n        const params = origGetParameters.apply(this, arguments);\n        if (!('encodings' in params)) {\n          params.encodings = [].concat(this.sendEncodings || [{}]);\n        }\n        return params;\n      };\n  }\n}\n\nexport function shimCreateOffer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n      .then(() => {\n        return origCreateOffer.apply(this, arguments);\n      })\n      .finally(() => {\n        this.setParametersPromises = [];\n      });\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\n\nexport function shimCreateAnswer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n      .then(() => {\n        return origCreateAnswer.apply(this, arguments);\n      })\n      .finally(() => {\n        this.setParametersPromises = [];\n      });\n    }\n    return origCreateAnswer.apply(this, arguments);\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}