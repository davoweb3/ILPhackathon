{"ast":null,"code":"\"use strict\";\n\n/*\n* Copyright 2013 ZXing authors\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// package com.google.zxing.pdf417.decoder;\n// import com.google.zxing.NotFoundException;\nvar NotFoundException_1 = require(\"../../NotFoundException\");\n// import com.google.zxing.ResultPoint;\nvar ResultPoint_1 = require(\"../../ResultPoint\");\n/**\n * @author Guenther Grau\n */\nvar BoundingBox = /** @class */function () {\n  function BoundingBox(image, topLeft, bottomLeft, topRight, bottomRight) {\n    if (image instanceof BoundingBox) {\n      this.constructor_2(image);\n    } else {\n      this.constructor_1(image, topLeft, bottomLeft, topRight, bottomRight);\n    }\n  }\n  /**\n   *\n   * @param image\n   * @param topLeft\n   * @param bottomLeft\n   * @param topRight\n   * @param bottomRight\n   *\n   * @throws NotFoundException\n   */\n  BoundingBox.prototype.constructor_1 = function (image, topLeft, bottomLeft, topRight, bottomRight) {\n    var leftUnspecified = topLeft == null || bottomLeft == null;\n    var rightUnspecified = topRight == null || bottomRight == null;\n    if (leftUnspecified && rightUnspecified) {\n      throw new NotFoundException_1.default();\n    }\n    if (leftUnspecified) {\n      topLeft = new ResultPoint_1.default(0, topRight.getY());\n      bottomLeft = new ResultPoint_1.default(0, bottomRight.getY());\n    } else if (rightUnspecified) {\n      topRight = new ResultPoint_1.default(image.getWidth() - 1, topLeft.getY());\n      bottomRight = new ResultPoint_1.default(image.getWidth() - 1, bottomLeft.getY());\n    }\n    this.image = image;\n    this.topLeft = topLeft;\n    this.bottomLeft = bottomLeft;\n    this.topRight = topRight;\n    this.bottomRight = bottomRight;\n    this.minX = Math.trunc(Math.min(topLeft.getX(), bottomLeft.getX()));\n    this.maxX = Math.trunc(Math.max(topRight.getX(), bottomRight.getX()));\n    this.minY = Math.trunc(Math.min(topLeft.getY(), topRight.getY()));\n    this.maxY = Math.trunc(Math.max(bottomLeft.getY(), bottomRight.getY()));\n  };\n  BoundingBox.prototype.constructor_2 = function (boundingBox) {\n    this.image = boundingBox.image;\n    this.topLeft = boundingBox.getTopLeft();\n    this.bottomLeft = boundingBox.getBottomLeft();\n    this.topRight = boundingBox.getTopRight();\n    this.bottomRight = boundingBox.getBottomRight();\n    this.minX = boundingBox.getMinX();\n    this.maxX = boundingBox.getMaxX();\n    this.minY = boundingBox.getMinY();\n    this.maxY = boundingBox.getMaxY();\n  };\n  /**\n   * @throws NotFoundException\n   */\n  BoundingBox.merge = function (leftBox, rightBox) {\n    if (leftBox == null) {\n      return rightBox;\n    }\n    if (rightBox == null) {\n      return leftBox;\n    }\n    return new BoundingBox(leftBox.image, leftBox.topLeft, leftBox.bottomLeft, rightBox.topRight, rightBox.bottomRight);\n  };\n  /**\n   * @throws NotFoundException\n   */\n  BoundingBox.prototype.addMissingRows = function (missingStartRows, missingEndRows, isLeft) {\n    var newTopLeft = this.topLeft;\n    var newBottomLeft = this.bottomLeft;\n    var newTopRight = this.topRight;\n    var newBottomRight = this.bottomRight;\n    if (missingStartRows > 0) {\n      var top_1 = isLeft ? this.topLeft : this.topRight;\n      var newMinY = Math.trunc(top_1.getY() - missingStartRows);\n      if (newMinY < 0) {\n        newMinY = 0;\n      }\n      var newTop = new ResultPoint_1.default(top_1.getX(), newMinY);\n      if (isLeft) {\n        newTopLeft = newTop;\n      } else {\n        newTopRight = newTop;\n      }\n    }\n    if (missingEndRows > 0) {\n      var bottom = isLeft ? this.bottomLeft : this.bottomRight;\n      var newMaxY = Math.trunc(bottom.getY() + missingEndRows);\n      if (newMaxY >= this.image.getHeight()) {\n        newMaxY = this.image.getHeight() - 1;\n      }\n      var newBottom = new ResultPoint_1.default(bottom.getX(), newMaxY);\n      if (isLeft) {\n        newBottomLeft = newBottom;\n      } else {\n        newBottomRight = newBottom;\n      }\n    }\n    return new BoundingBox(this.image, newTopLeft, newBottomLeft, newTopRight, newBottomRight);\n  };\n  BoundingBox.prototype.getMinX = function () {\n    return this.minX;\n  };\n  BoundingBox.prototype.getMaxX = function () {\n    return this.maxX;\n  };\n  BoundingBox.prototype.getMinY = function () {\n    return this.minY;\n  };\n  BoundingBox.prototype.getMaxY = function () {\n    return this.maxY;\n  };\n  BoundingBox.prototype.getTopLeft = function () {\n    return this.topLeft;\n  };\n  BoundingBox.prototype.getTopRight = function () {\n    return this.topRight;\n  };\n  BoundingBox.prototype.getBottomLeft = function () {\n    return this.bottomLeft;\n  };\n  BoundingBox.prototype.getBottomRight = function () {\n    return this.bottomRight;\n  };\n  return BoundingBox;\n}();\nexports.default = BoundingBox;","map":{"version":3,"sources":["../../../../src/core/pdf417/decoder/BoundingBox.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/*\n* Copyright 2013 ZXing authors\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// package com.google.zxing.pdf417.decoder;\n// import com.google.zxing.NotFoundException;\nvar NotFoundException_1 = require(\"../../NotFoundException\");\n// import com.google.zxing.ResultPoint;\nvar ResultPoint_1 = require(\"../../ResultPoint\");\n/**\n * @author Guenther Grau\n */\nvar BoundingBox = /** @class */ (function () {\n    function BoundingBox(image, topLeft, bottomLeft, topRight, bottomRight) {\n        if (image instanceof BoundingBox) {\n            this.constructor_2(image);\n        }\n        else {\n            this.constructor_1(image, topLeft, bottomLeft, topRight, bottomRight);\n        }\n    }\n    /**\n     *\n     * @param image\n     * @param topLeft\n     * @param bottomLeft\n     * @param topRight\n     * @param bottomRight\n     *\n     * @throws NotFoundException\n     */\n    BoundingBox.prototype.constructor_1 = function (image, topLeft, bottomLeft, topRight, bottomRight) {\n        var leftUnspecified = topLeft == null || bottomLeft == null;\n        var rightUnspecified = topRight == null || bottomRight == null;\n        if (leftUnspecified && rightUnspecified) {\n            throw new NotFoundException_1.default();\n        }\n        if (leftUnspecified) {\n            topLeft = new ResultPoint_1.default(0, topRight.getY());\n            bottomLeft = new ResultPoint_1.default(0, bottomRight.getY());\n        }\n        else if (rightUnspecified) {\n            topRight = new ResultPoint_1.default(image.getWidth() - 1, topLeft.getY());\n            bottomRight = new ResultPoint_1.default(image.getWidth() - 1, bottomLeft.getY());\n        }\n        this.image = image;\n        this.topLeft = topLeft;\n        this.bottomLeft = bottomLeft;\n        this.topRight = topRight;\n        this.bottomRight = bottomRight;\n        this.minX = Math.trunc(Math.min(topLeft.getX(), bottomLeft.getX()));\n        this.maxX = Math.trunc(Math.max(topRight.getX(), bottomRight.getX()));\n        this.minY = Math.trunc(Math.min(topLeft.getY(), topRight.getY()));\n        this.maxY = Math.trunc(Math.max(bottomLeft.getY(), bottomRight.getY()));\n    };\n    BoundingBox.prototype.constructor_2 = function (boundingBox) {\n        this.image = boundingBox.image;\n        this.topLeft = boundingBox.getTopLeft();\n        this.bottomLeft = boundingBox.getBottomLeft();\n        this.topRight = boundingBox.getTopRight();\n        this.bottomRight = boundingBox.getBottomRight();\n        this.minX = boundingBox.getMinX();\n        this.maxX = boundingBox.getMaxX();\n        this.minY = boundingBox.getMinY();\n        this.maxY = boundingBox.getMaxY();\n    };\n    /**\n     * @throws NotFoundException\n     */\n    BoundingBox.merge = function (leftBox, rightBox) {\n        if (leftBox == null) {\n            return rightBox;\n        }\n        if (rightBox == null) {\n            return leftBox;\n        }\n        return new BoundingBox(leftBox.image, leftBox.topLeft, leftBox.bottomLeft, rightBox.topRight, rightBox.bottomRight);\n    };\n    /**\n     * @throws NotFoundException\n     */\n    BoundingBox.prototype.addMissingRows = function (missingStartRows, missingEndRows, isLeft) {\n        var newTopLeft = this.topLeft;\n        var newBottomLeft = this.bottomLeft;\n        var newTopRight = this.topRight;\n        var newBottomRight = this.bottomRight;\n        if (missingStartRows > 0) {\n            var top_1 = isLeft ? this.topLeft : this.topRight;\n            var newMinY = Math.trunc(top_1.getY() - missingStartRows);\n            if (newMinY < 0) {\n                newMinY = 0;\n            }\n            var newTop = new ResultPoint_1.default(top_1.getX(), newMinY);\n            if (isLeft) {\n                newTopLeft = newTop;\n            }\n            else {\n                newTopRight = newTop;\n            }\n        }\n        if (missingEndRows > 0) {\n            var bottom = isLeft ? this.bottomLeft : this.bottomRight;\n            var newMaxY = Math.trunc(bottom.getY() + missingEndRows);\n            if (newMaxY >= this.image.getHeight()) {\n                newMaxY = this.image.getHeight() - 1;\n            }\n            var newBottom = new ResultPoint_1.default(bottom.getX(), newMaxY);\n            if (isLeft) {\n                newBottomLeft = newBottom;\n            }\n            else {\n                newBottomRight = newBottom;\n            }\n        }\n        return new BoundingBox(this.image, newTopLeft, newBottomLeft, newTopRight, newBottomRight);\n    };\n    BoundingBox.prototype.getMinX = function () {\n        return this.minX;\n    };\n    BoundingBox.prototype.getMaxX = function () {\n        return this.maxX;\n    };\n    BoundingBox.prototype.getMinY = function () {\n        return this.minY;\n    };\n    BoundingBox.prototype.getMaxY = function () {\n        return this.maxY;\n    };\n    BoundingBox.prototype.getTopLeft = function () {\n        return this.topLeft;\n    };\n    BoundingBox.prototype.getTopRight = function () {\n        return this.topRight;\n    };\n    BoundingBox.prototype.getBottomLeft = function () {\n        return this.bottomLeft;\n    };\n    BoundingBox.prototype.getBottomRight = function () {\n        return this.bottomRight;\n    };\n    return BoundingBox;\n}());\nexports.default = BoundingBox;\n//# sourceMappingURL=BoundingBox.js.map"]},"metadata":{},"sourceType":"script"}