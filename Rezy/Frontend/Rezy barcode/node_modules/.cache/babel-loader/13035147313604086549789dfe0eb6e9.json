{"ast":null,"code":"\"use strict\";\n\n/*\n * Copyright 2008 ZXing authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __values = this && this.__values || function (o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n    i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar BarcodeFormat_1 = require(\"../BarcodeFormat\");\nvar DecodeHintType_1 = require(\"../DecodeHintType\");\nvar OneDReader_1 = require(\"./OneDReader\");\nvar EAN13Reader_1 = require(\"./EAN13Reader\");\nvar EAN8Reader_1 = require(\"./EAN8Reader\");\nvar NotFoundException_1 = require(\"../NotFoundException\");\n/**\n * <p>A reader that can read all available UPC/EAN formats. If a caller wants to try to\n * read all such formats, it is most efficient to use this implementation rather than invoke\n * individual readers.</p>\n *\n * @author Sean Owen\n */\nvar MultiFormatUPCEANReader = /** @class */function (_super) {\n  __extends(MultiFormatUPCEANReader, _super);\n  function MultiFormatUPCEANReader(hints) {\n    var _this = _super.call(this) || this;\n    var possibleFormats = hints == null ? null : hints.get(DecodeHintType_1.default.POSSIBLE_FORMATS);\n    var readers = [];\n    if (possibleFormats != null) {\n      if (possibleFormats.indexOf(BarcodeFormat_1.default.EAN_13) > -1) {\n        readers.push(new EAN13Reader_1.default());\n      }\n      if (possibleFormats.indexOf(BarcodeFormat_1.default.EAN_8) > -1) {\n        readers.push(new EAN8Reader_1.default());\n      }\n      // todo add UPC_A, UPC_E\n    }\n\n    if (readers.length === 0) {\n      readers.push(new EAN13Reader_1.default());\n      readers.push(new EAN8Reader_1.default());\n      // todo add UPC_A, UPC_E\n    }\n\n    _this.readers = readers;\n    return _this;\n  }\n  MultiFormatUPCEANReader.prototype.decodeRow = function (rowNumber, row, hints) {\n    var e_1, _a;\n    try {\n      for (var _b = __values(this.readers), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var reader = _c.value;\n        try {\n          return reader.decodeRow(rowNumber, row, hints);\n          // TODO ean13MayBeUPCA\n        } catch (err) {\n          // continue;\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    throw new NotFoundException_1.default();\n  };\n  MultiFormatUPCEANReader.prototype.reset = function () {\n    var e_2, _a;\n    try {\n      for (var _b = __values(this.readers), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var reader = _c.value;\n        reader.reset();\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n  return MultiFormatUPCEANReader;\n}(OneDReader_1.default);\nexports.default = MultiFormatUPCEANReader;","map":{"version":3,"sources":["../../../src/core/oned/MultiFormatUPCEANReader.ts"],"names":[],"mappings":";;AAAA;;;;;;;;;;;;;;AAcG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEH,IAAA,eAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;AAEA,IAAA,gBAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;AAGA,IAAA,YAAA,GAAA,OAAA,CAAA,cAAA,CAAA;AAEA,IAAA,aAAA,GAAA,OAAA,CAAA,eAAA,CAAA;AACA,IAAA,YAAA,GAAA,OAAA,CAAA,cAAA,CAAA;AACA,IAAA,mBAAA,GAAA,OAAA,CAAA,sBAAA,CAAA;AAEA;;;;;;AAMG;AACH,IAAA,uBAAA,GAAA,aAAA,UAAA,MAAA,EAAA;EAAqD,SAAA,CAAA,uBAAA,EAAA,MAAA,CAAA;EAGjD,SAAA,uBAAA,CAAmB,KAAgC,EAAA;IAAnD,IAAA,KAAA,GACI,MAAA,CAAA,IAAA,CAAA,IAAA,CAAO,IAAA,IAAA;IACP,IAAI,eAAe,GAAG,KAAK,IAAI,IAAI,GAAG,IAAI,GAAoB,KAAK,CAAC,GAAG,CAAC,gBAAA,CAAA,OAAc,CAAC,gBAAgB,CAAC;IACxG,IAAI,OAAO,GAAmB,EAAE;IAChC,IAAI,eAAe,IAAI,IAAI,EAAE;MACzB,IAAI,eAAe,CAAC,OAAO,CAAC,eAAA,CAAA,OAAa,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;QACpD,OAAO,CAAC,IAAI,CAAC,IAAI,aAAA,CAAA,OAAW,EAAE,CAAC;MAClC;MAED,IAAI,eAAe,CAAC,OAAO,CAAC,eAAA,CAAA,OAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;QACnD,OAAO,CAAC,IAAI,CAAC,IAAI,YAAA,CAAA,OAAU,EAAE,CAAC;MACjC;MACD;IACH;;IAED,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;MACtB,OAAO,CAAC,IAAI,CAAC,IAAI,aAAA,CAAA,OAAW,EAAE,CAAC;MAC/B,OAAO,CAAC,IAAI,CAAC,IAAI,YAAA,CAAA,OAAU,EAAE,CAAC;MAC9B;IACH;;IAED,KAAI,CAAC,OAAO,GAAG,OAAO;;EAC1B;EAEO,uBAAA,CAAA,SAAA,CAAA,SAAS,GAAhB,UAAiB,SAAiB,EAAE,GAAa,EAAE,KAAgC,EAAA;;;MAC/E,KAAmB,IAAA,EAAA,GAAA,QAAA,CAAA,IAAI,CAAC,OAAO,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAE;QAA5B,IAAI,MAAM,GAAA,EAAA,CAAA,KAAA;QACX,IAAI;UACA,OAAO,MAAM,CAAC,SAAS,CAAC,SAAS,EAAE,GAAG,EAAE,KAAK,CAAC;UAC9C;SACH,CAAC,OAAO,GAAG,EAAE;UACV;QAAA;MAEP;;;;;;;;;;;;IACD,MAAM,IAAI,mBAAA,CAAA,OAAiB,EAAE;EACjC,CAAC;EAEM,uBAAA,CAAA,SAAA,CAAA,KAAK,GAAZ,YAAA;;;MACI,KAAmB,IAAA,EAAA,GAAA,QAAA,CAAA,IAAI,CAAC,OAAO,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAE;QAA5B,IAAI,MAAM,GAAA,EAAA,CAAA,KAAA;QACX,MAAM,CAAC,KAAK,EAAE;MACjB;;;;;;;;;;;;EACL,CAAC;EACL,OAAA,uBAAC;AAAD,CAAC,CA5CoD,YAAA,CAAA,OAAU,CAAA","sourceRoot":"","sourcesContent":["\"use strict\";\n/*\n * Copyright 2008 ZXing authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BarcodeFormat_1 = require(\"../BarcodeFormat\");\nvar DecodeHintType_1 = require(\"../DecodeHintType\");\nvar OneDReader_1 = require(\"./OneDReader\");\nvar EAN13Reader_1 = require(\"./EAN13Reader\");\nvar EAN8Reader_1 = require(\"./EAN8Reader\");\nvar NotFoundException_1 = require(\"../NotFoundException\");\n/**\n * <p>A reader that can read all available UPC/EAN formats. If a caller wants to try to\n * read all such formats, it is most efficient to use this implementation rather than invoke\n * individual readers.</p>\n *\n * @author Sean Owen\n */\nvar MultiFormatUPCEANReader = /** @class */ (function (_super) {\n    __extends(MultiFormatUPCEANReader, _super);\n    function MultiFormatUPCEANReader(hints) {\n        var _this = _super.call(this) || this;\n        var possibleFormats = hints == null ? null : hints.get(DecodeHintType_1.default.POSSIBLE_FORMATS);\n        var readers = [];\n        if (possibleFormats != null) {\n            if (possibleFormats.indexOf(BarcodeFormat_1.default.EAN_13) > -1) {\n                readers.push(new EAN13Reader_1.default());\n            }\n            if (possibleFormats.indexOf(BarcodeFormat_1.default.EAN_8) > -1) {\n                readers.push(new EAN8Reader_1.default());\n            }\n            // todo add UPC_A, UPC_E\n        }\n        if (readers.length === 0) {\n            readers.push(new EAN13Reader_1.default());\n            readers.push(new EAN8Reader_1.default());\n            // todo add UPC_A, UPC_E\n        }\n        _this.readers = readers;\n        return _this;\n    }\n    MultiFormatUPCEANReader.prototype.decodeRow = function (rowNumber, row, hints) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this.readers), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var reader = _c.value;\n                try {\n                    return reader.decodeRow(rowNumber, row, hints);\n                    // TODO ean13MayBeUPCA\n                }\n                catch (err) {\n                    // continue;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        throw new NotFoundException_1.default();\n    };\n    MultiFormatUPCEANReader.prototype.reset = function () {\n        var e_2, _a;\n        try {\n            for (var _b = __values(this.readers), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var reader = _c.value;\n                reader.reset();\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    return MultiFormatUPCEANReader;\n}(OneDReader_1.default));\nexports.default = MultiFormatUPCEANReader;\n//# sourceMappingURL=MultiFormatUPCEANReader.js.map"]},"metadata":{},"sourceType":"script"}