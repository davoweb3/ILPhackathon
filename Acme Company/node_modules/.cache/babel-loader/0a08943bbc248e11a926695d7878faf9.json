{"ast":null,"code":"\"use strict\";\n\n/*\n * Copyright 2008 ZXing authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __values = this && this.__values || function (o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n    i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar BarcodeFormat_1 = require(\"../BarcodeFormat\");\nvar DecodeHintType_1 = require(\"../DecodeHintType\");\nvar OneDReader_1 = require(\"./OneDReader\");\nvar EAN13Reader_1 = require(\"./EAN13Reader\");\nvar EAN8Reader_1 = require(\"./EAN8Reader\");\nvar NotFoundException_1 = require(\"../NotFoundException\");\n/**\n * <p>A reader that can read all available UPC/EAN formats. If a caller wants to try to\n * read all such formats, it is most efficient to use this implementation rather than invoke\n * individual readers.</p>\n *\n * @author Sean Owen\n */\nvar MultiFormatUPCEANReader = /** @class */function (_super) {\n  __extends(MultiFormatUPCEANReader, _super);\n  function MultiFormatUPCEANReader(hints) {\n    var _this = _super.call(this) || this;\n    var possibleFormats = hints == null ? null : hints.get(DecodeHintType_1.default.POSSIBLE_FORMATS);\n    var readers = [];\n    if (possibleFormats != null) {\n      if (possibleFormats.indexOf(BarcodeFormat_1.default.EAN_13) > -1) {\n        readers.push(new EAN13Reader_1.default());\n      }\n      if (possibleFormats.indexOf(BarcodeFormat_1.default.EAN_8) > -1) {\n        readers.push(new EAN8Reader_1.default());\n      }\n      // todo add UPC_A, UPC_E\n    }\n\n    if (readers.length === 0) {\n      readers.push(new EAN13Reader_1.default());\n      readers.push(new EAN8Reader_1.default());\n      // todo add UPC_A, UPC_E\n    }\n\n    _this.readers = readers;\n    return _this;\n  }\n  MultiFormatUPCEANReader.prototype.decodeRow = function (rowNumber, row, hints) {\n    var e_1, _a;\n    try {\n      for (var _b = __values(this.readers), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var reader = _c.value;\n        try {\n          return reader.decodeRow(rowNumber, row, hints);\n          // TODO ean13MayBeUPCA\n        } catch (err) {\n          // continue;\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    throw new NotFoundException_1.default();\n  };\n  MultiFormatUPCEANReader.prototype.reset = function () {\n    var e_2, _a;\n    try {\n      for (var _b = __values(this.readers), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var reader = _c.value;\n        reader.reset();\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n  return MultiFormatUPCEANReader;\n}(OneDReader_1.default);\nexports.default = MultiFormatUPCEANReader;","map":{"version":3,"names":["BarcodeFormat_1","require","DecodeHintType_1","OneDReader_1","EAN13Reader_1","EAN8Reader_1","NotFoundException_1","MultiFormatUPCEANReader","_super","__extends","hints","_this","call","possibleFormats","get","default","POSSIBLE_FORMATS","readers","indexOf","EAN_13","push","EAN_8","length","prototype","decodeRow","rowNumber","row","_b","__values","_c","next","done","reader","value","err","reset"],"sources":["../../../src/core/oned/MultiFormatUPCEANReader.ts"],"sourcesContent":[null],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,IAAAA,eAAA,GAAAC,OAAA;AAEA,IAAAC,gBAAA,GAAAD,OAAA;AAGA,IAAAE,YAAA,GAAAF,OAAA;AAEA,IAAAG,aAAA,GAAAH,OAAA;AACA,IAAAI,YAAA,GAAAJ,OAAA;AACA,IAAAK,mBAAA,GAAAL,OAAA;AAEA;;;;;;;AAOA,IAAAM,uBAAA,0BAAAC,MAAA;EAAqDC,SAAA,CAAAF,uBAAA,EAAAC,MAAA;EAGjD,SAAAD,wBAAmBG,KAAgC;IAAnD,IAAAC,KAAA,GACIH,MAAA,CAAAI,IAAA,MAAO;IACP,IAAIC,eAAe,GAAGH,KAAK,IAAI,IAAI,GAAG,IAAI,GAAoBA,KAAK,CAACI,GAAG,CAACZ,gBAAA,CAAAa,OAAc,CAACC,gBAAgB,CAAC;IACxG,IAAIC,OAAO,GAAmB,EAAE;IAChC,IAAIJ,eAAe,IAAI,IAAI,EAAE;MACzB,IAAIA,eAAe,CAACK,OAAO,CAAClB,eAAA,CAAAe,OAAa,CAACI,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;QACpDF,OAAO,CAACG,IAAI,CAAC,IAAIhB,aAAA,CAAAW,OAAW,EAAE,CAAC;;MAGnC,IAAIF,eAAe,CAACK,OAAO,CAAClB,eAAA,CAAAe,OAAa,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;QACnDJ,OAAO,CAACG,IAAI,CAAC,IAAIf,YAAA,CAAAU,OAAU,EAAE,CAAC;;MAElC;;;IAGJ,IAAIE,OAAO,CAACK,MAAM,KAAK,CAAC,EAAE;MACtBL,OAAO,CAACG,IAAI,CAAC,IAAIhB,aAAA,CAAAW,OAAW,EAAE,CAAC;MAC/BE,OAAO,CAACG,IAAI,CAAC,IAAIf,YAAA,CAAAU,OAAU,EAAE,CAAC;MAC9B;;;IAGJJ,KAAI,CAACM,OAAO,GAAGA,OAAO;;EAC1B;EAEOV,uBAAA,CAAAgB,SAAA,CAAAC,SAAS,GAAhB,UAAiBC,SAAiB,EAAEC,GAAa,EAAEhB,KAAgC;;;MAC/E,KAAmB,IAAAiB,EAAA,GAAAC,QAAA,KAAI,CAACX,OAAO,GAAAY,EAAA,GAAAF,EAAA,CAAAG,IAAA,KAAAD,EAAA,CAAAE,IAAA,EAAAF,EAAA,GAAAF,EAAA,CAAAG,IAAA,IAAE;QAA5B,IAAIE,MAAM,GAAAH,EAAA,CAAAI,KAAA;QACX,IAAI;UACA,OAAOD,MAAM,CAACR,SAAS,CAACC,SAAS,EAAEC,GAAG,EAAEhB,KAAK,CAAC;UAC9C;SACH,CAAC,OAAOwB,GAAG,EAAE;UACV;QAAA;;;;;;;;;;;;;IAGR,MAAM,IAAI5B,mBAAA,CAAAS,OAAiB,EAAE;EACjC,CAAC;EAEMR,uBAAA,CAAAgB,SAAA,CAAAY,KAAK,GAAZ;;;MACI,KAAmB,IAAAR,EAAA,GAAAC,QAAA,KAAI,CAACX,OAAO,GAAAY,EAAA,GAAAF,EAAA,CAAAG,IAAA,KAAAD,EAAA,CAAAE,IAAA,EAAAF,EAAA,GAAAF,EAAA,CAAAG,IAAA,IAAE;QAA5B,IAAIE,MAAM,GAAAH,EAAA,CAAAI,KAAA;QACXD,MAAM,CAACG,KAAK,EAAE;;;;;;;;;;;;;EAEtB,CAAC;EACL,OAAA5B,uBAAC;AAAD,CAAC,CA5CoDJ,YAAA,CAAAY,OAAU"},"metadata":{},"sourceType":"script"}